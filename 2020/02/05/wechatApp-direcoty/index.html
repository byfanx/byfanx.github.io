

<!DOCTYPE html>
<html lang="zh_CN" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>微信小程序-项目目录结构 - byFan 驿站</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="&nbsp;&nbsp;&nbsp;&nbsp;&nb...">
  <meta name="author" content="byFan">
  <link rel="icon" href="/images/icons/byfan.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/byfan.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/byfan.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/byfan.png" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/byfan.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_p6ry5n7lrr.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/night-owl.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      loading: {
        gif: '/images/theme/loading.gif',
        lottie: ''
      },
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: {
          gif: '/images/theme/loading.gif',
          lottie: ''
        }
      },
      donate: {
        enable: true,
        alipay: '/images/theme/alipay.jpg',
        wechat: '/images/theme/wechatpay.jpg'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: true
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: true
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: false,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: true,
        path: 'search.xml'
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading" id="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
        <i class="iconfont iconsearch j-navbar-search"></i>
      
    </div>
    <div class="center">微信小程序-项目目录结构</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 相册</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Copyright © 2019 - 2021 | <a target="_blank" href="http://byfan.xyz">byFan</a> .AllRightsReserved</p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/cover/wechatApp-direcoty.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">微信小程序-项目目录结构</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>二月 05, 2020</span>
      
        <span class="post-info-item">
          <i class="iconfont iconeye"></i><span id="/2020/02/05/wechatApp-direcoty/" class="leancloud-counter" data-flag-title="微信小程序-项目目录结构"></span>
        </span>
        <span class="post-info-item">
          <i class="iconfont iconheart"></i><span id="/2020/02/05/wechatApp-direcoty/" class="leancloud-like" data-flag-title="微信小程序-项目目录结构"></span>
        </span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>10943</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        
          <p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们在开发项目的时候，项目创建好之后都会有一个默认的目录结构，在开发微信小程序的时候，通过官方提供的微信开发者工具创建项目之后，也会生成一个默认的目录结构，和我们开发一般项目的结构稍微有所不同，今天记录和分析一下微信小程序的目录结构。</p></p>
        
        <h1 id="小程序-项目结构"><a href="#小程序-项目结构" class="headerlink" title="小程序-项目结构"></a>小程序-项目结构</h1><h2 id="1-创建项目"><a href="#1-创建项目" class="headerlink" title="1. 创建项目"></a>1. 创建项目</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;打开从<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/">微信公众平台</a>下载的微信开发者工具，需要先进行登录，用你在公众平台注册的那个微信账号进行登录，在左侧项目列表中选择小程序，然后如下图所示。</p>
<p><img    class="lazyload" data-original="%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">新建项目</span></p>
<p>上面一共有这么几个地方需要填写：</p>
<ul>
<li><strong>项目名称：</strong>就是你开发的项目。</li>
<li><strong>目录：</strong>默认是<code>C:\Users\XXX\WeChatProjects\项目名</code>，可以手动选择代码的存放路径；</li>
<li><strong>AppID：</strong>如果是注册用户，需要到公共平台在菜单“开发”—“开发设置”可以看到小程序AppID，这相当于是给开发人员的通行证，复制下来填入即可。如果是未注册的用户也可以使用<em>测试号</em>，不过测试号不可以选择后端服务(反正暂时也用不到)。</li>
<li><strong>开发模式：</strong>小程序(默认)，插件。我们选择小程序。</li>
<li><strong>后端服务：</strong>小程序·云开发(默认)，不使用云服务。我们选择不使用云服务。</li>
<li><strong>语言：</strong>如果后端服务选择不使用云服务的话，会多一个语言选择，分别有<code>JavaScript</code>和<code>TypeScript</code>两者，在这选择<code>Javascript</code>。</li>
</ul>
<p>上面的选项选择完毕之后，点击右下角的<strong>新建</strong>即可创建项目。</p>
<h2 id="2-目录结构"><a href="#2-目录结构" class="headerlink" title="2. 目录结构"></a>2. 目录结构</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新创建出的项目的目录结构如下，包括两个文件夹和5个文件。文件夹分别是<code>pages</code>文件夹和<code>utils</code>文件夹；文件分别是<code>app.js</code>，<code>app.json</code>，<code>app.wxss</code>，<code>project.config.json</code>，<code>sitemap.json</code>。</p>
<p><img    class="lazyload" data-original="%E6%80%BB%E7%9B%AE%E5%BD%95.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">总目录</span></p>
<h2 id="3-文件分析"><a href="#3-文件分析" class="headerlink" title="3. 文件分析"></a>3. 文件分析</h2><h3 id="3-1-app-js"><a href="#3-1-app-js" class="headerlink" title="3.1 app.js"></a>3.1 app.js</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是小程序的逻辑文件，是项目必须要有的一个文件，里面的App是用于启动时做一下内容加载请求使用，是小程序进入首页之前调用的，里面的<strong>globalData</strong>存放的是全局变量，可以在任何一个<code>.js</code>文件里面被调用。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;每个小程序都需要在 <code>app.js</code> 中调用 <code>App</code> 方法注册小程序实例，绑定生命周期回调函数、错误监听和页面不存在监听函数等。详细的参数含义和使用请参考 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html">App 参考文档</a> 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// app.js</span><br>App(&#123;<br>  onLaunch (options) &#123;<br>    <span class="hljs-comment">// Do something initial when launch.</span><br>  &#125;,<br>  onShow (options) &#123;<br>    <span class="hljs-comment">// Do something when show.</span><br>  &#125;,<br>  onHide () &#123;<br>    <span class="hljs-comment">// Do something when hide.</span><br>  &#125;,<br>  onError (msg) &#123;<br>    <span class="hljs-built_in">console</span>.log(msg)<br>  &#125;,<br>  <span class="hljs-attr">globalData</span>: <span class="hljs-string">&#x27;I am global data&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<p>整个小程序只有一个App实例，是全部页面共享的，。开发者可以通过<code>getApp</code>方法获取全局唯一的App实例，获取App上的数据或者电调用开发者注册在App上的函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// xxx.js</span><br><span class="hljs-keyword">const</span> appInstance = getApp()<br><span class="hljs-built_in">console</span>.log(appInstance.globalData) <span class="hljs-comment">// I am global data</span><br></code></pre></td></tr></table></figure>

<h3 id="3-2-app-json"><a href="#3-2-app-json" class="headerlink" title="3.2 app.json"></a>3.2 app.json</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在小程序根目录下的 <code>app.json</code> 文件用来对微信小程序进行全局配置，该文件也是项目必须要有的，它决定页面文件的路径、窗口表现、设置网络超时时间、设置多 tab 等。完整配置项说明请参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">小程序全局配置</a>。以下是一个包含了部分常用配置选项的 <code>app.json</code> ：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;pages&quot;</span>: [<br>    <span class="hljs-string">&quot;pages/index/index&quot;</span>,<br>    <span class="hljs-string">&quot;pages/logs/index&quot;</span><br>  ],<br>  <span class="hljs-attr">&quot;window&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;Demo&quot;</span><br>  &#125;,<br>  <span class="hljs-attr">&quot;tabBar&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;list&quot;</span>: [&#123;<br>      <span class="hljs-attr">&quot;pagePath&quot;</span>: <span class="hljs-string">&quot;pages/index/index&quot;</span>,<br>      <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;首页&quot;</span><br>    &#125;, &#123;<br>      <span class="hljs-attr">&quot;pagePath&quot;</span>: <span class="hljs-string">&quot;pages/logs/logs&quot;</span>,<br>      <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;日志&quot;</span><br>    &#125;]<br>  &#125;,<br>  <span class="hljs-attr">&quot;networkTimeout&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;request&quot;</span>: <span class="hljs-number">10000</span>,<br>    <span class="hljs-attr">&quot;downloadFile&quot;</span>: <span class="hljs-number">10000</span><br>  &#125;,<br>  <span class="hljs-attr">&quot;debug&quot;</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">&quot;navigateToMiniProgramAppIdList&quot;</span>: [<br>    <span class="hljs-string">&quot;wxe5f52902cf4de896&quot;</span><br>  ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p><span id="app.wxss"></span></p>
<h3 id="3-3-app-wxss"><a href="#3-3-app-wxss" class="headerlink" title="3.3 app.wxss"></a>3.3 app.wxss</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是小程序的公共样式，不是项目所必须有的，定义在 app.wxss 中的样式为全局样式，作用于每一个页面。在 page 的 wxss 文件中定义的样式为局部样式，只作用在对应的页面，并会覆盖 app.wxss 中相同的选择器。WXSS (WeiXin Style Sheets)是一套样式语言，用于描述 WXML 的组件样式。WXSS 用来决定 WXML 的组件应该怎么显示。WXSS 具有 CSS 大部分特性。为了更适合开发微信小程序，WXSS 对 CSS 进行了扩充以及修改。与 CSS 相比，WXSS 扩展的特性有<strong>尺寸单位</strong>和<strong>样式导入</strong>。</p>
<p><strong>尺寸单位：</strong>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。</p>
<table>
<thead>
<tr>
<th align="left">设备</th>
<th align="left">rpx换算px (屏幕宽度/750)</th>
<th align="left">px换算rpx (750/屏幕宽度)</th>
</tr>
</thead>
<tbody><tr>
<td align="left">iPhone5</td>
<td align="left">1rpx = 0.42px</td>
<td align="left">1px = 2.34rpx</td>
</tr>
<tr>
<td align="left">iPhone6</td>
<td align="left">1rpx = 0.5px</td>
<td align="left">1px = 2rpx</td>
</tr>
<tr>
<td align="left">iPhone6 Plus</td>
<td align="left">1rpx = 0.552px</td>
<td align="left"><strong>1px = 1.81rpx</strong></td>
</tr>
</tbody></table>
<blockquote>
<p><strong>建议：</strong>在开发微信小程序的时候可以用iPhon作为视觉稿的标准，也就是<strong>1px=2rpx</strong>。</p>
<p><strong>注意：</strong>在较小的屏幕上不可避免的会有一些毛刺。</p>
</blockquote>
<p><strong>样式导入：</strong>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束。示例代码如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/** common.wxss **/</span><br><span class="hljs-selector-class">.small-p</span> &#123;<br>  <span class="hljs-attribute">padding</span>:<span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/** app.wxss **/</span><br><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;common.wxss&quot;</span>;<br><span class="hljs-selector-class">.middle-p</span> &#123;<br>  <span class="hljs-attribute">padding</span>:<span class="hljs-number">15px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>内联样式：</strong>框架组件上支持使用 style、class 属性来控制组件的样式。</p>
<ul>
<li><strong>style：</strong>静态的样式统一写到 class 中。style 接收动态的样式，在运行时会进行解析，请尽量避免将静态的样式写进 style 中，以免影响渲染速度。</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;view style=&quot;<span class="hljs-attribute">color</span>:&#123;&#123;color&#125;&#125;;&quot; /&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><strong>class：</strong>用于指定样式规则，其属性值是样式规则中类选择器名(样式类名)的集合，样式类名不需要带上<code>.</code>，样式类名之间用空格分隔。</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;view class=&quot;normal_view&quot; /&gt;<br></code></pre></td></tr></table></figure>

<p><strong>选择器：</strong>目前支持的选择器有：</p>
<table>
<thead>
<tr>
<th align="left">选择器</th>
<th align="left">样例</th>
<th align="left">样例描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.class</td>
<td align="left"><code>.intro</code></td>
<td align="left">选择所有拥有 class=”intro” 的组件</td>
</tr>
<tr>
<td align="left">#id</td>
<td align="left"><code>#firstname</code></td>
<td align="left">选择拥有 id=”firstname” 的组件</td>
</tr>
<tr>
<td align="left">element</td>
<td align="left"><code>view</code></td>
<td align="left">选择所有 view 组件</td>
</tr>
<tr>
<td align="left">element, element</td>
<td align="left"><code>view, checkbox</code></td>
<td align="left">选择所有文档的 view 组件和所有的 checkbox 组件</td>
</tr>
<tr>
<td align="left">::after</td>
<td align="left"><code>view::after</code></td>
<td align="left">在 view 组件后边插入内容</td>
</tr>
<tr>
<td align="left">::before</td>
<td align="left"><code>view::before</code></td>
<td align="left">在 view 组件前边插入内容</td>
</tr>
</tbody></table>
<h3 id="3-4-project-config-json"><a href="#3-4-project-config-json" class="headerlink" title="3.4 project.config.json"></a>3.4 project.config.json</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是一个工具配置文件，通常大家在使用一个工具的时候，都会针对各自喜好做一些个性化配置，例如界面颜色、编译配置等等，当你换了另外一台电脑重新安装工具的时候，你还要重新配置。考虑到这点，小程序开发者工具在每个项目的根目录都会生成一个 project.config.json，你在工具上做的任何配置都会写入到这个文件，当你重新安装工具或者换电脑工作时，你只要载入同一个项目的代码包，开发者工具就自动会帮你恢复到当时你开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>	<span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;项目配置文件&quot;</span>,<br>	<span class="hljs-attr">&quot;packOptions&quot;</span>: &#123;<br>		<span class="hljs-attr">&quot;ignore&quot;</span>: []<br>	&#125;,<br>	<span class="hljs-attr">&quot;setting&quot;</span>: &#123;<br>		<span class="hljs-attr">&quot;urlCheck&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;es6&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;postcss&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;minified&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;newFeature&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;autoAudits&quot;</span>: <span class="hljs-literal">false</span>,<br>		<span class="hljs-attr">&quot;coverView&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;showShadowRootInWxmlPanel&quot;</span>: <span class="hljs-literal">true</span>,<br>		<span class="hljs-attr">&quot;scopeDataCheck&quot;</span>: <span class="hljs-literal">false</span><br>	&#125;,<br>	<span class="hljs-attr">&quot;compileType&quot;</span>: <span class="hljs-string">&quot;miniprogram&quot;</span>,<br>	<span class="hljs-attr">&quot;libVersion&quot;</span>: <span class="hljs-string">&quot;2.10.1&quot;</span>,<br>	<span class="hljs-attr">&quot;appid&quot;</span>: <span class="hljs-string">&quot;wxd837a802c37e57a0&quot;</span>,<br>	<span class="hljs-attr">&quot;projectname&quot;</span>: <span class="hljs-string">&quot;test&quot;</span>,<br>	<span class="hljs-attr">&quot;debugOptions&quot;</span>: &#123;<br>		<span class="hljs-attr">&quot;hidedInDevtools&quot;</span>: []<br>	&#125;,<br>	<span class="hljs-attr">&quot;isGameTourist&quot;</span>: <span class="hljs-literal">false</span>,<br>	<span class="hljs-attr">&quot;simulatorType&quot;</span>: <span class="hljs-string">&quot;wechat&quot;</span>,<br>	<span class="hljs-attr">&quot;simulatorPluginLibVersion&quot;</span>: &#123;&#125;,<br>	<span class="hljs-attr">&quot;condition&quot;</span>: &#123;<br>		<span class="hljs-attr">&quot;search&quot;</span>: &#123;<br>			<span class="hljs-attr">&quot;current&quot;</span>: <span class="hljs-number">-1</span>,<br>			<span class="hljs-attr">&quot;list&quot;</span>: []<br>		&#125;,<br>		<span class="hljs-attr">&quot;conversation&quot;</span>: &#123;<br>			<span class="hljs-attr">&quot;current&quot;</span>: <span class="hljs-number">-1</span>,<br>			<span class="hljs-attr">&quot;list&quot;</span>: []<br>		&#125;,<br>		<span class="hljs-attr">&quot;game&quot;</span>: &#123;<br>			<span class="hljs-attr">&quot;currentL&quot;</span>: <span class="hljs-number">-1</span>,<br>			<span class="hljs-attr">&quot;list&quot;</span>: []<br>		&#125;,<br>		<span class="hljs-attr">&quot;miniprogram&quot;</span>: &#123;<br>			<span class="hljs-attr">&quot;current&quot;</span>: <span class="hljs-number">-1</span>,<br>			<span class="hljs-attr">&quot;list&quot;</span>: []<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-5-sitemap-json"><a href="#3-5-sitemap-json" class="headerlink" title="3.5 sitemap.json"></a>3.5 sitemap.json</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;小程序根目录下的 <code>sitemap.json</code> 文件用来配置小程序及其页面是否允许被微信索引。默认是所有页面都会被微信索引。在此就不过多解释，完整配置项说明请参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html">小程序 sitemap 配置</a>。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;rules&quot;</span>:[&#123;<br>    <span class="hljs-attr">&quot;action&quot;</span>: <span class="hljs-string">&quot;disallow&quot;</span>,<br>    <span class="hljs-attr">&quot;page&quot;</span>: <span class="hljs-string">&quot;*&quot;</span><br>  &#125;]<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>注：</strong><code>sitemap</code> 的索引提示是默认开启的，如需要关闭 <code>sitemap</code> 的索引提示，可在小程序项目配置文件 <code>project.config.json</code> 的 <code>setting</code> 中配置字段 <code>checkSiteMap</code> 为 <code>false</code>。</p>
<p>**注: **<code>sitemap</code> 文件内容最大为 5120 个 UTF8 字符。</p>
</blockquote>
<h2 id="4-文件夹分析"><a href="#4-文件夹分析" class="headerlink" title="4. 文件夹分析"></a>4. 文件夹分析</h2><h3 id="4-1-pages"><a href="#4-1-pages" class="headerlink" title="4.1 pages"></a>4.1 pages</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件夹是存放小程序页面的文件夹，下面每一个子文件夹都是一个小程序页面，一个小程序页面由四个文件组成，分别是：</p>
<table>
<thead>
<tr>
<th align="left">文件类型</th>
<th align="left">必需</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="#js">js</a></td>
<td align="left">是</td>
<td align="left">页面逻辑</td>
</tr>
<tr>
<td align="left"><a href="#wxml">wxml</a></td>
<td align="left">是</td>
<td align="left">页面结构</td>
</tr>
<tr>
<td align="left"><a href="#json">json</a></td>
<td align="left">否</td>
<td align="left">页面配置</td>
</tr>
<tr>
<td align="left"><a href="#wxss">wxss</a></td>
<td align="left">否</td>
<td align="left">页面样式表</td>
</tr>
</tbody></table>
<p><span id="js"></span></p>
<h4 id="4-1-1-js"><a href="#4-1-1-js" class="headerlink" title="4.1.1 js"></a>4.1.1 js</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于小程序中的每个页面，都需要在页面对应的js文件中进行注册，指定页面的初始数据、生命周期回调、事件处理函数等。使用**Page()**构造器注册页面。详细的参数含义和使用请参考 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html">Page 参考文档</a> 。</p>
<p>代码示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//index.js</span><br>Page(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;This is page data.&quot;</span><br>  &#125;,<br>  <span class="hljs-attr">onLoad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>&#123;<br>    <span class="hljs-comment">// 页面创建时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onShow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面出现在前台时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面首次渲染完毕时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onHide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面从前台变为后台时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onUnload</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面销毁时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onPullDownRefresh</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 触发下拉刷新时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onReachBottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面触底时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onShareAppMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面被用户分享时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onPageScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面滚动时执行</span><br>  &#125;,<br>  <span class="hljs-attr">onResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 页面尺寸变化时执行</span><br>  &#125;,<br>  <span class="hljs-function"><span class="hljs-title">onTabItemTap</span>(<span class="hljs-params">item</span>)</span> &#123;<br>    <span class="hljs-comment">// tab 点击时执行</span><br>    <span class="hljs-built_in">console</span>.log(item.index)<br>    <span class="hljs-built_in">console</span>.log(item.pagePath)<br>    <span class="hljs-built_in">console</span>.log(item.text)<br>  &#125;,<br>  <span class="hljs-comment">// 事件响应函数</span><br>  <span class="hljs-attr">viewTap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.setData(&#123;<br>      <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;Set some data for updating view.&#x27;</span><br>    &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-comment">// this is setData callback</span><br>    &#125;)<br>  &#125;,<br>  <span class="hljs-comment">// 自由数据</span><br>  <span class="hljs-attr">customData</span>: &#123;<br>    <span class="hljs-attr">hi</span>: <span class="hljs-string">&#x27;MINA&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><span id="wxml"></span></p>
<h4 id="4-1-2-wxml"><a href="#4-1-2-wxml" class="headerlink" title="4.1.2 wxml"></a>4.1.2 wxml</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是编写小程序页面的文件，WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合基础组件、事件系统，可以构建出页面的结构。要完整了解 WXML 语法，请参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/">WXML 语法参考</a>。下面是一些wxml使用的简单的例子。</p>
<p><strong>数据绑定：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- wxml --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// page.js</span><br>Page(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello MINA!&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>列表渲染：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;&#123;&#123;array&#125;&#125;&quot;</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// page.js</span><br>Page(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">array</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>条件渲染：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--wxml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;&#123;&#123;view == &#x27;WEBVIEW&#x27;&#125;&#125;&quot;</span>&gt;</span> WEBVIEW <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:elif</span>=<span class="hljs-string">&quot;&#123;&#123;view == &#x27;APP&#x27;&#125;&#125;&quot;</span>&gt;</span> APP <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:else</span>=<span class="hljs-string">&quot;&#123;&#123;view == &#x27;MINA&#x27;&#125;&#125;&quot;</span>&gt;</span> MINA <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// page.js</span><br>Page(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">view</span>: <span class="hljs-string">&#x27;MINA&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><span id="json"></span></p>
<h4 id="4-1-3-json"><a href="#4-1-3-json" class="headerlink" title="4.1.3 json"></a>4.1.3 json</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是当前页面的配置文件，每一个小程序页面也可以使用同名 <code>.json</code> 文件来对本页面的窗口表现进行配置，页面中配置项会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。完整配置项说明请参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">小程序页面配置</a>。</p>
<p>配置示例：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;navigationBarBackgroundColor&quot;</span>: <span class="hljs-string">&quot;#ffffff&quot;</span>,<br>  <span class="hljs-attr">&quot;navigationBarTextStyle&quot;</span>: <span class="hljs-string">&quot;black&quot;</span>,<br>  <span class="hljs-attr">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;微信接口功能演示&quot;</span>,<br>  <span class="hljs-attr">&quot;backgroundColor&quot;</span>: <span class="hljs-string">&quot;#eeeeee&quot;</span>,<br>  <span class="hljs-attr">&quot;backgroundTextStyle&quot;</span>: <span class="hljs-string">&quot;light&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>上面的配置分别是导航栏背景颜色、导航栏标题颜色、导航栏标题文字内容、窗口背景色、下拉 loading 的样式。</p>
<p><span id="wxss"></span></p>
<h4 id="4-1-4-wxss"><a href="#4-1-4-wxss" class="headerlink" title="4.1.4 wxss"></a>4.1.4 wxss</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件是对当前页面元素的样式进行渲染，和<code>app.wxss</code>一样，只不过是作用范围不一样，可以参看<a href="#app.wxss">app.wxss</a>。</p>
<h3 id="4-2-utils"><a href="#4-2-utils" class="headerlink" title="4.2 utils"></a>4.2 utils</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这是一个工具包，里面的<code>js</code>文件是一个工具类，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> formatTime = <span class="hljs-function"><span class="hljs-params">date</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> year = date.getFullYear()<br>  <span class="hljs-keyword">const</span> month = date.getMonth() + <span class="hljs-number">1</span><br>  <span class="hljs-keyword">const</span> day = date.getDate()<br>  <span class="hljs-keyword">const</span> hour = date.getHours()<br>  <span class="hljs-keyword">const</span> minute = date.getMinutes()<br>  <span class="hljs-keyword">const</span> second = date.getSeconds()<br><br>  <span class="hljs-keyword">return</span> [year, month, day].map(formatNumber).join(<span class="hljs-string">&#x27;/&#x27;</span>) + <span class="hljs-string">&#x27; &#x27;</span> + [hour, minute, second].map(formatNumber).join(<span class="hljs-string">&#x27;:&#x27;</span>)<br>&#125;<br><br><span class="hljs-keyword">const</span> formatNumber = <span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> &#123;<br>  n = n.toString()<br>  <span class="hljs-keyword">return</span> n[<span class="hljs-number">1</span>] ? n : <span class="hljs-string">&#x27;0&#x27;</span> + n<br>&#125;<br><span class="hljs-comment">//将方法暴露出去，供别人调用</span><br><span class="hljs-built_in">module</span>.exports = &#123;<br>  <span class="hljs-attr">formatTime</span>: formatTime<br>&#125;<br></code></pre></td></tr></table></figure>

<p>然后在其他页面的js文件里通过<code>require</code>进行引入该工具类，即可进行方法的调用。示例代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//xxx.js</span><br><span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;../../utils/util.js&#x27;</span>)<br>Page(&#123;<br>    <span class="hljs-attr">getTime</span>:<span class="hljs-function"><span class="hljs-title">funnction</span>(<span class="hljs-params"></span>)</span>&#123;<br>    	<span class="hljs-keyword">var</span> time = util.formatTime(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>())<br>		<span class="hljs-built_in">console</span>.log(time)          <span class="hljs-comment">//  2020/02/05 18:40 </span><br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h2 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;以上就是对小程序开发的目录结构介绍，还是很好了解的，具体里面的一些语法和用法，可以去微信公众平台查看<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/">官方文档</a>。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;另外在说一下怎么快速创建页面文件，一个页面需要有<code>.js</code>，<code>.json</code>，<code>.wxss</code>，<code>wxml</code>四个文件，如果一个一个的创建会很麻烦，说一个简单的方法，首先在<code>pages</code>上<strong>右键—&gt;新建目录</strong>，然后输入目录名称，接着在刚创建的目录上<strong>右键—&gt;新建Page</strong>，这样会直接在该目录下创建出与目录同名的四个相应的文件，是不是很便捷？还有一种更便捷的方法，就是在<code>app.json</code>文件中的<code>pages</code>里，直接按格式添加上要创建的目录，例如<code>&quot;pages/test/test&quot;</code>，保存之后，会直接创建出<code>test</code>文件夹以及下面的四个子文件。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;pages&quot;</span>: [<br>        <span class="hljs-string">&quot;pages/index/index&quot;</span>,<br>        <span class="hljs-string">&quot;pages/logs/logs&quot;</span>,<br>        <span class="hljs-string">&quot;pages/test/test&quot;</span><br>    ],<br>&#125;<br></code></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;就写这么多吧，感觉整理的也还算详细，收工收工~~~</p>
      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>byFan</li>
    <li><strong>本文链接：</strong><a href="http://byfan.xyz/2020/02/05/wechatApp-direcoty/index.html" title="http:&#x2F;&#x2F;byfan.xyz&#x2F;2020&#x2F;02&#x2F;05&#x2F;wechatApp-direcoty&#x2F;index.html">http:&#x2F;&#x2F;byfan.xyz&#x2F;2020&#x2F;02&#x2F;05&#x2F;wechatApp-direcoty&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="/images/theme/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a></li></ul> 

        
  <nav class="nav">
    <a href="/2020/02/06/wechatApp-dataOpe/"><i class="iconfont iconleft"></i>微信小程序-数据操作</a>
    <a href="/2020/02/03/wechatApp-login/">微信小程序-登录操作<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">小程序-项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">1. 创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">2. 目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90"><span class="toc-text">3. 文件分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-app-js"><span class="toc-text">3.1 app.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-app-json"><span class="toc-text">3.2 app.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-app-wxss"><span class="toc-text">3.3 app.wxss</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-project-config-json"><span class="toc-text">3.4 project.config.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-sitemap-json"><span class="toc-text">3.5 sitemap.json</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E5%A4%B9%E5%88%86%E6%9E%90"><span class="toc-text">4. 文件夹分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-pages"><span class="toc-text">4.1 pages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-utils"><span class="toc-text">4.2 utils</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%80%BB%E7%BB%93"><span class="toc-text">5. 总结</span></a></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=3257490363 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://github.com/byfanx/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:byfanx@163.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Copyright © 2019 - 2021 | <a target="_blank" href="http://byfan.xyz">byFan</a> .AllRightsReserved</p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
    <div class="fab fab-like">
      <i class="iconfont iconheart"></i>
    </div>
  
  
    <div class="fab fab-daovoice">
      <i class="iconfont iconcomment"></i>
    </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
    <div class="search">
  <div class="search-container">
    <div class="search-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <div class="search-input-wrapper">
      <i class="search-input-icon iconfont iconsearch"></i>
      <input class="search-input" type="search" id="search-input" placeholder="Search..." autofocus autocomplete="off"
        autocorrect="off" autocapitalize="off">
    </div>
    <div class="search-output" id="search-output"></div>
  </div>
</div>
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>





  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>








<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>



  <script>
  $.getScript("//cdn.jsdelivr.net/npm/leancloud-storage@4.1.0/dist/av-min.js", () => {

    AV.init({
      appId: 'IrYj5VESYg1Yvn7gIpcCDtX3-gzGzoHsz',
      appKey: '8Uzol1hPs1jvKhXzfs2pEGGq',
      serverURLs: 'https://leancloud.cn/',
    });

    const Counter = AV.Object.extend("Counter");
    const Like = AV.Object.extend("Like");

    const showCount = (Counter) => {
      const asyncLimit = new AsyncLimit(2);
      $(".leancloud-counter").each(async (e) => {
        const url = $(".leancloud-counter").eq(e).attr('id').trim();
        const query = new AV.Query("Counter");
        query.equalTo("words", url);
        let count = await asyncLimit.run(() => query.count());
        $(".leancloud-counter").eq(e).text(count ? count : 0);
      });
    }

    const addCount = (Counter) => {
      const url = $(".leancloud-counter").length === 1 ? $(".leancloud-counter").attr('id').trim() : 'http://byfan.xyz';
      var query = new Counter;
      query.save({
        words: url
      });
    }

    const showLike = (Like) => {
      const asyncLimit = new AsyncLimit(2);
      $(".leancloud-like").each(async (e) => {
        const url = $(".leancloud-like").eq(e).attr('id').trim();
        const query = new AV.Query("Like");
        query.equalTo("path", url);
        let count = await asyncLimit.run(() => query.count());
        $(".leancloud-like").eq(e).text(count ? count : 0);
      });
    }

    const addLike = (Like) => {
      const url = $(".leancloud-like").length === 1 ? $(".leancloud-like").attr('id').trim() : 'http://byfan.xyz';
      var query = new Like;
      query.save({
        path: url,
        nickName: 'Anonymous'
      });
      $(".leancloud-like").addClass('islike');
      $(".fab-like").children(".iconfont").removeClass("iconheart").addClass("iconheart-fill").css("color", "#eb3223");
      ZHAOO.zui.message({ text: '爱你哦~', type: 'success' });
      setTimeout(() => showLike(Like), 1000);
    }

    const handleLikeClick = () => {
      const isLike = $(".leancloud-like").length === 1 && $(".leancloud-like").hasClass('islike') ? true : false;
      if (isLike) {
        ZHAOO.zui.message({ text: '小心心不可以收回呢~', type: 'warning' });
      } else {
        addLike(Like);
      }
    }

    $(function () {
      addCount(Counter);
      showCount(Counter);
      showLike(Like);
      $(".fab-like").on("click", function () {
        handleLikeClick();
      });
    });

  });
</script>



  

<script>
  (function (i, s, o, g, r, a, m) {
    i["DaoVoiceObject"] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    a.charset = "utf-8";
    m.parentNode.insertBefore(a, m)
  })(window, document, "script", "https://widget.daovoice.io/widget/0f81ff2f.js", "daovoice")
  daovoice('init', {
    app_id: "aa2a9e05"
  }, {
    launcher: {
      disableLauncherIcon: true,
    },
  });
  daovoice('update');
</script>



  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>