

<!DOCTYPE html>
<html lang="zh_CN" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>树莓派安装系统和基础配置 - byFan 驿站</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="&nbsp;&nbsp;&nbsp;&nbsp;&nb...">
  <meta name="author" content="byFan">
  <link rel="icon" href="/images/icons/byfan.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/byfan.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/byfan.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/byfan.png" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/byfan.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_p6ry5n7lrr.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/night-owl.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      loading: {
        gif: '/images/theme/loading.gif',
        lottie: ''
      },
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: {
          gif: '/images/theme/loading.gif',
          lottie: ''
        }
      },
      donate: {
        enable: true,
        alipay: '/images/theme/alipay.jpg',
        wechat: '/images/theme/wechatpay.jpg'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: true
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: true
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: false,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: true,
        path: 'search.xml'
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading" id="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
        <i class="iconfont iconsearch j-navbar-search"></i>
      
    </div>
    <div class="center">树莓派安装系统和基础配置</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 相册</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Copyright © 2021 | <a target="_blank" href="http://byfan.xyz">byFan</a> .AllRightsReserved</p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/cover/raspberry.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">树莓派安装系统和基础配置</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>一月 04, 2021</span>
      
        <span class="post-info-item">
          <i class="iconfont iconeye"></i><span id="/2021/01/04/raspberry/" class="leancloud-counter" data-flag-title="树莓派安装系统和基础配置"></span>
        </span>
        <span class="post-info-item">
          <i class="iconfont iconheart"></i><span id="/2021/01/04/raspberry/" class="leancloud-like" data-flag-title="树莓派安装系统和基础配置"></span>
        </span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>10590</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        
          <p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前一段时间入手了一个树莓派4B，准备在无聊的时候鼓捣鼓捣，看看能不能做出点啥。刚拿到的树莓派第一反应却是无从入手，经过一番探索，终于把树莓派配置完成了。写个笔记记录一下，方便下次使用。</p></p>
        
        <h1 id="1-安装系统"><a href="#1-安装系统" class="headerlink" title="1. 安装系统"></a>1. 安装系统</h1><h2 id="1-1-下载系统镜像"><a href="#1-1-下载系统镜像" class="headerlink" title="1.1 下载系统镜像"></a>1.1 下载系统镜像</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;首先先去树莓派官网下载你所需要的系统镜像，下载地址<a target="_blank" rel="noopener" href="https://www.raspberrypi.org/downloads/">https://www.raspberrypi.org/downloads/</a>。这里选择的是自己手动安装镜像，所以选择下面这个。</p>
<p><img   class="lazyload" data-original="%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F1.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>然后可以看到有多个系统镜像可供选择，如果没啥需要的话可以直接下载官方提供的镜像。第一个和第二个都是有图形界面的，他俩的区别就是第一个预安装的有一些软件，这里用不到。第三个适合使用开源系统熟练的人用。这里选择第二个。将系统镜像下载到本地。</p>
<p><img   class="lazyload" data-original="%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F2.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h2 id="1-2-格式化内存卡"><a href="#1-2-格式化内存卡" class="headerlink" title="1.2 格式化内存卡"></a>1.2 格式化内存卡</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;树莓派使用的是内存卡启动，所以首先要提前准备好一张内存卡，至少的4G的，这里用的是64G的。然后去找一个格式化内存卡的软件，这里使用<em>SD Memory Card formatter</em>进行内存卡格式化。下载地址<a target="_blank" rel="noopener" href="https://www.sdcard.org/index.html">https://www.sdcard.org/index.html</a>。</p>
<p><img   class="lazyload" data-original="%E4%B8%8B%E8%BD%BD%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BD%AF%E4%BB%B6.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>下载安装完成之后，将树莓派的内存卡插在电脑上，打开软件。选择要格式化的树莓派内存卡，不需要其他设置，直接点击<strong>Format</strong>即可，这样内存卡就格式化完成了。</p>
<p><img   class="lazyload" data-original="%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%86%85%E5%AD%98%E5%8D%A1.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h2 id="1-3-写入镜像"><a href="#1-3-写入镜像" class="headerlink" title="1.3 写入镜像"></a>1.3 写入镜像</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接下来将下载好的<code>.img</code>镜像写入内存卡，可以使用 <em>Win32 Disk Imager</em> 或 <em>Etcher</em>。<em>Win32 Disk Imager</em> 界面相对简单、有校验选项，<em>Etcher</em>偏向简洁。<em>Etcher</em>下载地址：<a target="_blank" rel="noopener" href="https://www.balena.io/etcher">https://www.balena.io/etcher</a>。<em>Win32 Disk Imager</em>下载地址：<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/win32diskimager/">https://sourceforge.net/projects/win32diskimager/</a>。这里选择Win32 Disk Imager进行镜像的写入。运行<em>Win32 Disk Imager</em>之后，选择我们下载解压后的**.img镜像<strong>，设备选择</strong>内存卡<strong>（如果只插入了内存卡，程序会默认帮我们选好），点击</strong>写入<strong>，</strong>确定**，之后等待写入完成。</p>
<p><img   class="lazyload" data-original="%E5%86%99%E5%85%A5%E9%95%9C%E5%83%8F.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<blockquote>
<p>注意！！！如果给树莓派配的有显示器的，这个时候可以直接将内存卡插入到树莓派中进行开机了。如果没有显示器的，这个时候先不要着急拔出读卡器，接下来还要进行系统配置，方便访问树莓派。</p>
</blockquote>
<h1 id="2-连接树莓派"><a href="#2-连接树莓派" class="headerlink" title="2. 连接树莓派"></a>2. 连接树莓派</h1><h2 id="2-1-开启SSH"><a href="#2-1-开启SSH" class="headerlink" title="2.1 开启SSH"></a>2.1 开启SSH</h2><h3 id="2-1-1-开机前配置"><a href="#2-1-1-开机前配置" class="headerlink" title="2.1.1 开机前配置"></a>2.1.1 开机前配置</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;没有给树莓派配置显示器的，可以在内存卡中先开启树莓派SSH，在<strong>boot</strong>盘创建一个名为<strong>ssh</strong>的无后缀空文件，无后缀！这样在树莓派启动的时候就打开了ssh，可以进行连接。</p>
<p><img   class="lazyload" data-original="ssh%E7%A9%BA%E6%96%87%E4%BB%B6.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h3 id="2-1-2-开机后用图形界面配置"><a href="#2-1-2-开机后用图形界面配置" class="headerlink" title="2.1.2 开机后用图形界面配置"></a>2.1.2 开机后用图形界面配置</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果有显示屏并且已经连接到树莓派的，点击树莓派界面左上角的树莓图标，点Preferences的这个图标，再点击下面倒数第二个树莓图标打开树莓派的设置。</p>
<p><img   class="lazyload" data-original="%E5%9B%BE%E5%BD%A2%E5%BC%80%E5%90%AFssh1.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>选择Interfaces标签，将SSH那一行Enabled前面的那个圆点上，按右下角的OK保存，重启树莓派后就会自动开启SSH服务。</p>
<p><img   class="lazyload" data-original="%E5%9B%BE%E5%BD%A2%E5%BC%80%E5%90%AFssh2.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h3 id="2-1-3-开机后用命令行配置"><a href="#2-1-3-开机后用命令行配置" class="headerlink" title="2.1.3 开机后用命令行配置"></a>2.1.3 开机后用命令行配置</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果有显示屏并且已经连接到树莓派的，点击及界面上面菜单栏黑色框打开可以输入命令行的终端。在打开的界面命令行输入：<code>sudo raspi-config</code>，按<code>enter</code>键运行。</p>
<p><img   class="lazyload" data-original="%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%BC%80%E5%90%AFssh1.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>键盘下移移动到<code>Interfacing Options</code>，按<code>enter</code>键。</p>
<p><img   class="lazyload" data-original="%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%BC%80%E5%90%AFssh2.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>选择<code>ssh</code>，按回车确认，然后选择<code>yes</code>进行保存，重启树莓派后就会自动开启SSH服务。</p>
<p><img   class="lazyload" data-original="%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%BC%80%E5%90%AFssh3.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h2 id="2-2-SSH登录树莓派"><a href="#2-2-SSH登录树莓派" class="headerlink" title="2.2 SSH登录树莓派"></a>2.2 SSH登录树莓派</h2><h3 id="2-2-1-网线连接"><a href="#2-2-1-网线连接" class="headerlink" title="2.2.1 网线连接"></a>2.2.1 网线连接</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果是通过网线将树莓派与路由器直接相连接的，可以去路由器管理页面查看所连接设备的IP地址，然后使用ssh连接工具进行连接就行。</p>
<ul>
<li>默认账户：<strong>pi</strong></li>
<li>默认密码：<strong>raspberry</strong></li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果是通过网线和笔记本电脑进行连接的，那么先依次打开<em>控制面板</em>–&gt;<em>网络和Internet</em>–&gt;<em>网络连接</em>。找到当前笔记本连接的WIFI网络右键查看<strong>属性</strong>。选择<strong>共享</strong>标签，勾选“允许其他用户通过此计算机的Internet连接来连接” ，选择连接树莓派的<strong>以太网</strong>，然后确定保存配置。</p>
<p><img   class="lazyload" data-original="%E5%85%B1%E4%BA%AB%E7%BD%91%E7%BB%9C.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>然后打开电脑<strong>cmd</strong>命令行，输入<code>ipconfig</code>查看当前笔记本IP，然后找到<strong>无线局域网适配器 本地连接* 11</strong>，查看这个下面的<strong>IPv4 地址</strong>。这里的是<code>192.168.137.1</code>，记住这个ip，后面要用。</p>
<p><img   class="lazyload" data-original="%E6%9F%A5%E7%9C%8Bip%E8%8C%83%E5%9B%B4.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>输入<code>arp -a</code>回车来查看当前网络连接，下翻找到<code>192.168.137.*</code>开头的接口地址，下面列出来的有一个动态地址就是当前树莓派的IP地址，然后就可以通过该IP进行ssh连接到树莓派。</p>
<blockquote>
<p>如果在192.168.137.*开头的接口地址下没有显示动态地址，或者说动态地址不是当前树莓派的地址，那么你很幸运，需要挨个去测试到底哪个才是树莓派的IP地址。</p>
</blockquote>
<p><img   class="lazyload" data-original="%E6%9F%A5%E7%9C%8Bip.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h3 id="2-2-2-WIFI连接"><a href="#2-2-2-WIFI连接" class="headerlink" title="2.2.2 WIFI连接"></a>2.2.2 WIFI连接</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果当前手边没有可用的网线，也可以使用WIFI的的形式进行树莓派的网络连接。将内存卡插到电脑上，在<strong>boot</strong>盘的根目录下创建<code>wpa_supplicant.conf</code>文件，下入下列内容进行保存。可以配置多个wifi网络，树莓派会根据设置的<code>priority</code>优先等级进行连接，数字越大等级越高，同等级的则从上至下依次选择。连接成功之后去查看wifi管理页面，找到一个连接设备名为<strong>raspberrypi</strong>的设备，这个对应的IP地址就是树莓派的IP地址。然后就可以通过该IP进行ssh连接到树莓派。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json">country=CN<br>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev<br>update_config=<span class="hljs-number">1</span><br>network=&#123;<br>	ssid=<span class="hljs-attr">&quot;wifi_1&quot;</span>  			<span class="hljs-comment">//第1个wifi的名字</span><br>    	scan_ssid=1			<span class="hljs-comment">//如果你的无线接入点是隐藏的，那么这个就是必须的(选填)</span><br>	psk=<span class="hljs-attr">&quot;wifi_1password&quot;</span>    	<span class="hljs-comment">//第1个wifi的密码</span><br>	key_mgmt=WPA-PSK		<span class="hljs-comment">//认证密钥管理协议，也就是你的加密类型(选填)</span><br>    	priority=5			<span class="hljs-comment">//连接的优先等级，数字越大优先度越高</span><br>&#125;<br> <br>network=&#123;<br>	ssid=<span class="hljs-attr">&quot;wifi_2&quot;</span>   		 <span class="hljs-comment">//第2个wifi的名字</span><br>	psk=<span class="hljs-attr">&quot;wifi_2password&quot;</span>     	<span class="hljs-comment">//第2个wifi的密码</span><br>	key_mgmt=WPA-PSK		<br>    	priority=4<br>&#125;<br></code></pre></td></tr></table></figure>

<p>如果开机之后要修改WIFI配置，文件的位置在<code>/etc/wpa_supplicant/wpa_supplicant.conf</code>，这个文件是个只读文件，在修改之前可先执行下面命令，修改一下文件权限即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo chmod 666 /etc/wpa_supplicant/wpa_supplicant.conf<br></code></pre></td></tr></table></figure>

<h3 id="2-2-3-配置固定IP"><a href="#2-2-3-配置固定IP" class="headerlink" title="2.2.3 配置固定IP"></a>2.2.3 配置固定IP</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;树莓派无论是通过网线连接还是WIFI连接，每次连接到网络的之后都会被重新分配一次IP，这样每次在连接前都需要重新查看树莓派的IP地址，然后再进行连接。其实可以给树莓派的设置一个固定IP，这样以后树莓派在同一局域网下的IP地址就固定了。首先连接上树莓派之后，通过<code>ifconfig</code>命令查看当前IP地址。</p>
<p><img   class="lazyload" data-original="%E6%A0%91%E8%8E%93%E6%B4%BE%E6%9F%A5%E7%9C%8Bip.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>可以看到此时树莓派是通过WLAN接口进行网络连接的。然后通过<code>sudo nano /etc/dhcpcd.conf</code>命令打开文件，在文件的最后添加以下内容。下面分别配置<code>eth0</code>和<code>wlan0</code>接口的静态地址。</p>
<blockquote>
<p>树莓派自带的<code>nano</code>编辑器使用<code>ctrl+o</code>进行保存，使用<code>ctrl+x</code>退出文件。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">eth0</span></span><br><span class="hljs-class"><span class="hljs-title">static</span> <span class="hljs-title">ip_address</span></span>=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.157</span>/<span class="hljs-number">24</span><br># <span class="hljs-keyword">static</span> ip6_address=fd51:42f8:caae:d92e::ff/<span class="hljs-number">64</span><br><span class="hljs-keyword">static</span> routers=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.1</span><br><span class="hljs-keyword">static</span> domain_name_servers=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.1</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br><br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">wlan0</span></span><br><span class="hljs-class"><span class="hljs-title">static</span> <span class="hljs-title">ip_address</span></span>=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.157</span>/<span class="hljs-number">24</span><br># <span class="hljs-keyword">static</span> ip6_address=fd51:42f8:caae:d92e::ff/<span class="hljs-number">64</span><br><span class="hljs-keyword">static</span> routers=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.1</span><br><span class="hljs-keyword">static</span> domain_name_servers=<span class="hljs-number">192.168</span><span class="hljs-number">.137</span><span class="hljs-number">.1</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br></code></pre></td></tr></table></figure>

<ul>
<li><strong>static ip_address</strong>：这个就是配置树莓派的静态IP地址的。</li>
<li><strong>static ip6_address</strong>：这个是配置树莓派的IPV6的地址的，不用配置。</li>
<li><strong>static routers</strong>：这个是当前网络的网关地址。</li>
<li><strong>static domain_name_servers</strong>：这个第一个参数是当前网络的网关地址；后面一个配置的是DNS服务器。</li>
</ul>
<blockquote>
<p>这里除了你当前本地的DNS服务器地址以外，还可以配置两外两个。</p>
<p><strong>114.114.114.114</strong>：是国内移动、电信和联通通用的DNS，手机和电脑端都可以使用，干净无广告，解析成功率相对来说更高，国内用户使用的比较多，而且速度相对快、稳定，是国内用户上网常用的DNS。</p>
<p><strong>8.8.8.8</strong>：是GOOGLE公司提供的DNS，该地址是全球通用的，相对来说，更适合国外以及访问国外网站的用户使用。</p>
</blockquote>
<p>上述配置完成之后，<code>reboot</code>重启树莓派，即可通过刚刚配置的静态IP地址来远程树莓派，这样以后只要是在同一网关下，就可以使用这个IP地址来访问树莓派。</p>
<blockquote>
<p><strong>注意！注意！注意！</strong>树莓派一般都连接到一个局域网之中就不会随意更换了，如果你要让树莓派连接另外的网络，需要<strong>连接原来的网络</strong>，先将<strong>固定IP的配置取消</strong>掉，然后<strong>再连接新的网络</strong>，否则可能会出现连不上网的情况。</p>
</blockquote>
<h1 id="3-树莓派的基础配置"><a href="#3-树莓派的基础配置" class="headerlink" title="3. 树莓派的基础配置"></a>3. 树莓派的基础配置</h1><h2 id="3-1-更改软件源"><a href="#3-1-更改软件源" class="headerlink" title="3.1 更改软件源"></a>3.1 更改软件源</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在开始树莓派的各种 DIY 之前，我们还需要做一件很重要的事情更换软件源。&nbsp;软件源是指 debian 系操作系统的应用程序安装包仓库，很多的软件都会这收录到这个仓库里面。而树莓派的 raspberrypi 操作系统也是基于 debian 的，所以树莓派也有自己的软件源，用来收录各种树莓派应用程序。默认情况下，树莓派软件源地址是 <a href="https://link.zhihu.com/?target=http://archive.raspbian.org/">http://archive.raspbian.org/</a>，位于欧洲，在国内访问是非常慢的，经常只有几 k 每秒的下载速率。所以我们在玩转树莓派之前，强烈推荐替换成国内的软件源。树莓派的所有软件源地址可以从这里找到<a href="https://link.zhihu.com/?target=https://www.raspbian.org/RaspbianMirrors">https://www.raspbian.org/RaspbianMi…</a></p>
<p>在这找一个国内的就行，比如清华大学的（下图表格的第一行）。</p>
<p><img   class="lazyload" data-original="%E6%9F%A5%E6%89%BE%E8%BD%AF%E4%BB%B6%E6%BA%90.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>然后输入命令<code>sudo nano /etc/apt/sources.list</code>并回车，进入编辑。如下图所示，把原来的内容注释掉（最前面加 # 号）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># deb http://raspbian.raspberrypi.org/raspbian/ buster main contrib non-free rpi</span><br><span class="hljs-comment"># Uncomment line below then &#x27;apt-get update&#x27; to enable &#x27;apt-get source&#x27;</span><br>deb-src http://raspbian.raspberrypi.org/raspbian/ buster main contrib non-free rpi<br></code></pre></td></tr></table></figure>

<p>然后再预选的软件源添加到文件中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib<br>deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib<br></code></pre></td></tr></table></figure>

<p>最后文件内容如下。</p>
<p><img   class="lazyload" data-original="sources.list.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<blockquote>
<p><strong>nano</strong> 是树莓派内置的轻量文本编辑器，使用方法是按 ctrl+o 保存，按 ctrl+x 关闭。</p>
</blockquote>
<p>同样的方法，输入命令<code>sudo nano /etc/apt/sources.list.d/raspi.list</code>并回车，然后也将原来的内容注释掉，然后添加如下内容；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main u<br></code></pre></td></tr></table></figure>

<p>最后文件内容如如下：</p>
<p><img   class="lazyload" data-original="raspi.list.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>至此，树莓派软件源就替换好了。然后就可以执行以下命令进行更即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get update			# 更新软件列表<br>sudo apt-get upgrade			# 更新软件<br></code></pre></td></tr></table></figure>

<h2 id="3-2-设置时间"><a href="#3-2-设置时间" class="headerlink" title="3.2 设置时间"></a>3.2 设置时间</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在树莓派上，可以用<code>date</code>命令来查看当前的日期时间，后面的CST表示中国标准时间。</p>
<p><img   class="lazyload" data-original="%E6%9F%A5%E7%9C%8B%E6%97%B6%E9%97%B4.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>如果显示的时间和当前时间不一致，那么就要设置一下树莓派的时区了。输入下面命令进行设置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo dpkg-reconfigure tzdata<br></code></pre></td></tr></table></figure>

<p>通过上下键选择<strong>Asia</strong>然后回车确认。</p>
<p><img   class="lazyload" data-original="%E9%80%89%E6%8B%A9Asia.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>通过上下键选择<strong>Shanghai</strong>然后回车确认。</p>
<p><img   class="lazyload" data-original="%E9%80%89%E6%8B%A9Shanghai.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>再次查看时间可以看到时间已经准确。</p>
<p><img   class="lazyload" data-original="%E5%86%8D%E6%AC%A1%E6%9F%A5%E7%9C%8B%E6%97%B6%E9%97%B4.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>树莓派没有电池，断电后无法保存时间。树莓派默认安装了NTP(Network Time Protocol)服务来获取互联网上ntp服务器提供的时间。如果这个时间不准，可以用这个命令校准一下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo ntpd -s –d<br></code></pre></td></tr></table></figure>

<p>如果还是不准，就用下列命令强制设置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo date  --s=&quot;2021-01-18 23:21:11&quot;<br></code></pre></td></tr></table></figure>

<h2 id="3-3-设置中文"><a href="#3-3-设置中文" class="headerlink" title="3.3 设置中文"></a>3.3 设置中文</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;树莓派默认的系统语言是英文的，而且系统里没有预装中文字库，因此我们在设置语言之前需要先给树莓派安装上中文的字库。这里提供一个免费开源的中文字库。在终端输入以下命令即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install ttf-wqy-zenhei<br></code></pre></td></tr></table></figure>

<p>中文字库安装完成之后，还需要安装一个中文输入法。输入如下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install scim-pinyin<br></code></pre></td></tr></table></figure>

<p>在中文字库以及输入法都安装好之后，我们输入<code>sudo raspi-config</code>命令来打开配置页面。然后通过方向键依次选择<strong>Localisation Options</strong>和<strong>Locale</strong>，通过回车键确认。</p>
<p><img   class="lazyload" data-original="%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%871.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p><img   class="lazyload" data-original="%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%872.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>之后我们会进入到语言选择界面，在众多选项中找到<strong>en_GB.UTF-8 UTF-8</strong>，系统默认是这个，前面有个<code>*</code>，敲空格可以去掉这个星号。之后在这些语言中找到<strong>en_US.UTF-8 UTF-8</strong>，<strong>zh_CN.UTF-8</strong>，<strong>zh_CN.GBK GBK</strong>（用PageUp、PageDown找会比较快）并用空格在它前面的方括号中打上<code>*</code>，表示启用该语言。然后<code>tab</code>键切到<code>&lt;OK&gt;</code>上，回车，然后会显示自动设置，设置完重启树莓派。</p>
<h2 id="3-4-开启VNC"><a href="#3-4-开启VNC" class="headerlink" title="3.4 开启VNC"></a>3.4 开启VNC</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;没有给树莓派配备显示器的，如果想要通过桌面(图像化界面)连接到树莓派，就需要开启<strong>VNC</strong>，然后借助VNC连接工具进行桌面连接。首先是在树莓派上打开VNC配置。还是输入<code>sudo raspi-config</code>命令打开配置面板。然后依次选择<strong>Interfacing Options</strong>回车，选择<strong>VNC</strong>回车，最后选择**&lt;Yes&gt;**回车确认，现在树莓派的VNC服务已经打开了。</p>
<p><img   class="lazyload" data-original="%E5%BC%80%E5%90%AFVNC1.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p><img   class="lazyload" data-original="%E5%BC%80%E5%90%AFVNC2.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p><img   class="lazyload" data-original="%E5%BC%80%E5%90%AFVNC3.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>通过VNC连接需要借助的工具是<em>VNC Viewer</em>。这里是VNC Viewer的<a target="_blank" rel="noopener" href="https://www.realvnc.com/en/connect/download/viewer/windows/">下载地址</a>。安装完成之后，打开VNC Viewer，输入树莓派的IP地址、账号和密码，即可连接到树莓派桌面。</p>
<h2 id="3-5-Windows远程桌面连接"><a href="#3-5-Windows远程桌面连接" class="headerlink" title="3.5 Windows远程桌面连接"></a>3.5 Windows远程桌面连接</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;远程连接树莓派桌面除了使用VNC，还有一种就是通过Windows的远程桌面进行树莓派的桌面连接。连接之前需要在树莓派上安装<strong>xrdp</strong>服务。执行<code>sudo  apt-get install xrdp</code>命令进行安装。安装完成之后即可通过Windows的远程桌面进行连接树莓派桌面。首先通过<code>win + r</code>打开面板，然后输入<code>mstsc</code>点击确定。输入树莓派的IP进行连接。连接上之后需要输入树莓派的账号和密码进行登录。</p>
<p><img   class="lazyload" data-original="Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A21.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p><img   class="lazyload" data-original="Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A22.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h1 id="4-查看树莓派状态"><a href="#4-查看树莓派状态" class="headerlink" title="4. 查看树莓派状态"></a>4. 查看树莓派状态</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自建一个python脚本，方便查看树莓派的各种状态和数据。包括当前CPU的稳如、CPU的内存占用情况、内存占用情况和硬盘占用情况。</p>
<p>首先创建脚本文件，命令如下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo nano getInfo.py<br></code></pre></td></tr></table></figure>

<p>然后输入以下代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br> <br><span class="hljs-comment"># Return CPU temperature as a character string                                     </span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getCPUtemperature</span>():</span><br>    res = os.popen(<span class="hljs-string">&#x27;vcgencmd measure_temp&#x27;</span>).readline()<br>    <span class="hljs-keyword">return</span>(res.replace(<span class="hljs-string">&quot;temp=&quot;</span>,<span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;&#x27;C\n&quot;</span>,<span class="hljs-string">&quot;&quot;</span>))<br> <br><span class="hljs-comment"># Return RAM information (unit=kb) in a list                                      </span><br><span class="hljs-comment"># Index 0: total RAM                                                              </span><br><span class="hljs-comment"># Index 1: used RAM                                                                </span><br><span class="hljs-comment"># Index 2: free RAM                                                                </span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getRAMinfo</span>():</span><br>    p = os.popen(<span class="hljs-string">&#x27;free&#x27;</span>)<br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>        i = i + <span class="hljs-number">1</span><br>        line = p.readline()<br>        <span class="hljs-keyword">if</span> i==<span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span>(line.split()[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>])<br> <br><span class="hljs-comment"># Return % of CPU used by user as a character string                               </span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getCPUuse</span>():</span><br>    <span class="hljs-keyword">return</span>(<span class="hljs-built_in">str</span>(os.popen(<span class="hljs-string">&quot;top -n1 | awk &#x27;/Cpu\(s\):/ &#123;print $2&#125;&#x27;&quot;</span>).readline().strip()))<br> <br><span class="hljs-comment"># Return information about disk space as a list (unit included)                    </span><br><span class="hljs-comment"># Index 0: total disk space                                                        </span><br><span class="hljs-comment"># Index 1: used disk space                                                        </span><br><span class="hljs-comment"># Index 2: remaining disk space                                                    </span><br><span class="hljs-comment"># Index 3: percentage of disk used                                                 </span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getDiskSpace</span>():</span><br>    p = os.popen(<span class="hljs-string">&quot;df -h /&quot;</span>)<br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>        i = i +<span class="hljs-number">1</span><br>        line = p.readline()<br>        <span class="hljs-keyword">if</span> i==<span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span>(line.split()[<span class="hljs-number">1</span>:<span class="hljs-number">5</span>])<br> <br> <br><span class="hljs-comment"># CPU informatiom</span><br>CPU_temp = getCPUtemperature()<br>CPU_usage = getCPUuse()<br> <br><span class="hljs-comment"># RAM information</span><br><span class="hljs-comment"># Output is in kb, here I convert it in Mb for readability</span><br>RAM_stats = getRAMinfo()<br>RAM_total = <span class="hljs-built_in">round</span>(<span class="hljs-built_in">int</span>(RAM_stats[<span class="hljs-number">0</span>]) / <span class="hljs-number">1000</span>,<span class="hljs-number">1</span>)<br>RAM_used = <span class="hljs-built_in">round</span>(<span class="hljs-built_in">int</span>(RAM_stats[<span class="hljs-number">1</span>]) / <span class="hljs-number">1000</span>,<span class="hljs-number">1</span>)<br>RAM_free = <span class="hljs-built_in">round</span>(<span class="hljs-built_in">int</span>(RAM_stats[<span class="hljs-number">2</span>]) / <span class="hljs-number">1000</span>,<span class="hljs-number">1</span>)<br> <br><span class="hljs-comment"># Disk information</span><br>DISK_stats = getDiskSpace()<br>DISK_total = DISK_stats[<span class="hljs-number">0</span>]<br>DISK_used = DISK_stats[<span class="hljs-number">1</span>]<br>DISK_perc = DISK_stats[<span class="hljs-number">3</span>]<br> <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;CPU Temperature = &#x27;</span>+CPU_temp)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;CPU Use = &#x27;</span>+CPU_usage)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;RAM Total = &#x27;</span>+<span class="hljs-built_in">str</span>(RAM_total)+<span class="hljs-string">&#x27; MB&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;RAM Used = &#x27;</span>+<span class="hljs-built_in">str</span>(RAM_used)+<span class="hljs-string">&#x27; MB&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;RAM Free = &#x27;</span>+<span class="hljs-built_in">str</span>(RAM_free)+<span class="hljs-string">&#x27; MB&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>) <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;DISK Total Space = &#x27;</span>+<span class="hljs-built_in">str</span>(DISK_total)+<span class="hljs-string">&#x27;B&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;DISK Used Space = &#x27;</span>+<span class="hljs-built_in">str</span>(DISK_used)+<span class="hljs-string">&#x27;B&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;DISK Used Percentage = &#x27;</span>+<span class="hljs-built_in">str</span>(DISK_perc))<br></code></pre></td></tr></table></figure>

<p>之后就可以执行这个脚本了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo chmod +x getInfo,py	<span class="hljs-comment"># 赋予可执行权限</span><br>python getInfo.py		<span class="hljs-comment"># 在当前文件夹下执行脚本</span><br></code></pre></td></tr></table></figure>

<p>脚本执行的结果如下。</p>
<p><img   class="lazyload" data-original="%E6%9F%A5%E7%9C%8B%E6%A0%91%E8%8E%93%E6%B4%BE%E7%8A%B6%E6%80%81.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h1 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;以上就是对树莓派从入手到初步配置的一个简单记录，个自己做个笔记，下次再用的时候就方便了。树莓派能折腾的东西很多，以后有新的踩坑经历了再来接着写。</p>
      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>byFan</li>
    <li><strong>本文链接：</strong><a href="http://byfan.xyz/2021/01/04/raspberry/index.html" title="http:&#x2F;&#x2F;byfan.xyz&#x2F;2021&#x2F;01&#x2F;04&#x2F;raspberry&#x2F;index.html">http:&#x2F;&#x2F;byfan.xyz&#x2F;2021&#x2F;01&#x2F;04&#x2F;raspberry&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="/images/theme/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">树莓派</a></li></ul> 

        
  <nav class="nav">
    <a href="/2021/08/16/raspberry-nextcloud/"><i class="iconfont iconleft"></i>树莓派搭建Nextcloud私有云</a>
    <a href="/2020/04/20/docker-deployApp/">Docker部署应用<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="toc-text">1. 安装系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E4%B8%8B%E8%BD%BD%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F"><span class="toc-text">1.1 下载系统镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%86%85%E5%AD%98%E5%8D%A1"><span class="toc-text">1.2 格式化内存卡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E5%86%99%E5%85%A5%E9%95%9C%E5%83%8F"><span class="toc-text">1.3 写入镜像</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E8%BF%9E%E6%8E%A5%E6%A0%91%E8%8E%93%E6%B4%BE"><span class="toc-text">2. 连接树莓派</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%BC%80%E5%90%AFSSH"><span class="toc-text">2.1 开启SSH</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E5%BC%80%E6%9C%BA%E5%89%8D%E9%85%8D%E7%BD%AE"><span class="toc-text">2.1.1 开机前配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E5%BC%80%E6%9C%BA%E5%90%8E%E7%94%A8%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E9%85%8D%E7%BD%AE"><span class="toc-text">2.1.2 开机后用图形界面配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-%E5%BC%80%E6%9C%BA%E5%90%8E%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%85%8D%E7%BD%AE"><span class="toc-text">2.1.3 开机后用命令行配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-SSH%E7%99%BB%E5%BD%95%E6%A0%91%E8%8E%93%E6%B4%BE"><span class="toc-text">2.2 SSH登录树莓派</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E7%BD%91%E7%BA%BF%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.2.1 网线连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-WIFI%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.2.2 WIFI连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E9%85%8D%E7%BD%AE%E5%9B%BA%E5%AE%9AIP"><span class="toc-text">2.2.3 配置固定IP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="toc-text">3. 树莓派的基础配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%9B%B4%E6%94%B9%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="toc-text">3.1 更改软件源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E8%AE%BE%E7%BD%AE%E6%97%B6%E9%97%B4"><span class="toc-text">3.2 设置时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%87"><span class="toc-text">3.3 设置中文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E5%BC%80%E5%90%AFVNC"><span class="toc-text">3.4 开启VNC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5"><span class="toc-text">3.5 Windows远程桌面连接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E6%A0%91%E8%8E%93%E6%B4%BE%E7%8A%B6%E6%80%81"><span class="toc-text">4. 查看树莓派状态</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E6%80%BB%E7%BB%93"><span class="toc-text">5. 总结</span></a></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=3257490363 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://github.com/byfanx/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:byfanx@163.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Copyright © 2021 | <a target="_blank" href="http://byfan.xyz">byFan</a> .AllRightsReserved</p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
    <div class="fab fab-like">
      <i class="iconfont iconheart"></i>
    </div>
  
  
    <div class="fab fab-daovoice">
      <i class="iconfont iconcomment"></i>
    </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
    <div class="search">
  <div class="search-container">
    <div class="search-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <div class="search-input-wrapper">
      <i class="search-input-icon iconfont iconsearch"></i>
      <input class="search-input" type="search" id="search-input" placeholder="Search..." autofocus autocomplete="off"
        autocorrect="off" autocapitalize="off">
    </div>
    <div class="search-output" id="search-output"></div>
  </div>
</div>
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>





  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>








<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>



  <script>
  $.getScript("//cdn.jsdelivr.net/npm/leancloud-storage@4.1.0/dist/av-min.js", () => {

    AV.init({
      appId: 'IrYj5VESYg1Yvn7gIpcCDtX3-gzGzoHsz',
      appKey: '8Uzol1hPs1jvKhXzfs2pEGGq',
      serverURLs: 'https://leancloud.cn/',
    });

    const Counter = AV.Object.extend("Counter");
    const Like = AV.Object.extend("Like");

    const showCount = (Counter) => {
      const asyncLimit = new AsyncLimit(2);
      $(".leancloud-counter").each(async (e) => {
        const url = $(".leancloud-counter").eq(e).attr('id').trim();
        const query = new AV.Query("Counter");
        query.equalTo("words", url);
        let count = await asyncLimit.run(() => query.count());
        $(".leancloud-counter").eq(e).text(count ? count : 0);
      });
    }

    const addCount = (Counter) => {
      const url = $(".leancloud-counter").length === 1 ? $(".leancloud-counter").attr('id').trim() : 'http://byfan.xyz';
      var query = new Counter;
      query.save({
        words: url
      });
    }

    const showLike = (Like) => {
      const asyncLimit = new AsyncLimit(2);
      $(".leancloud-like").each(async (e) => {
        const url = $(".leancloud-like").eq(e).attr('id').trim();
        const query = new AV.Query("Like");
        query.equalTo("path", url);
        let count = await asyncLimit.run(() => query.count());
        $(".leancloud-like").eq(e).text(count ? count : 0);
      });
    }

    const addLike = (Like) => {
      const url = $(".leancloud-like").length === 1 ? $(".leancloud-like").attr('id').trim() : 'http://byfan.xyz';
      var query = new Like;
      query.save({
        path: url,
        nickName: 'Anonymous'
      });
      $(".leancloud-like").addClass('islike');
      $(".fab-like").children(".iconfont").removeClass("iconheart").addClass("iconheart-fill").css("color", "#eb3223");
      ZHAOO.zui.message({ text: '爱你哦~', type: 'success' });
      setTimeout(() => showLike(Like), 1000);
    }

    const handleLikeClick = () => {
      const isLike = $(".leancloud-like").length === 1 && $(".leancloud-like").hasClass('islike') ? true : false;
      if (isLike) {
        ZHAOO.zui.message({ text: '小心心不可以收回呢~', type: 'warning' });
      } else {
        addLike(Like);
      }
    }

    $(function () {
      addCount(Counter);
      showCount(Counter);
      showLike(Like);
      $(".fab-like").on("click", function () {
        handleLikeClick();
      });
    });

  });
</script>



  

<script>
  (function (i, s, o, g, r, a, m) {
    i["DaoVoiceObject"] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    a.charset = "utf-8";
    m.parentNode.insertBefore(a, m)
  })(window, document, "script", "https://widget.daovoice.io/widget/0f81ff2f.js", "daovoice")
  daovoice('init', {
    app_id: "aa2a9e05"
  }, {
    launcher: {
      disableLauncherIcon: true,
    },
  });
  daovoice('update');
</script>



  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>